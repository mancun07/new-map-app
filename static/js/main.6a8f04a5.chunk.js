(this["webpackJsonpmap-app"]=this["webpackJsonpmap-app"]||[]).push([[0],{12:function(e,n,t){e.exports={info:"Info_info__dlHDJ",title:"Info_title__23vvG",main:"Info_main__C8X_K"}},16:function(e,n,t){e.exports={loading:"Loader_loading__hpWF4","lds-dual-ring":"Loader_lds-dual-ring__13xfL"}},18:function(e,n,t){e.exports={marker:"Marker_marker__1CI2s"}},25:function(e,n,t){},26:function(e,n,t){},32:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(5),o=t.n(c),i=(t(25),t(26),t(19)),s=t(3),u=t(11),l=Object(u.b)({name:"counter",initialState:{items:[],infoIsShown:!1,chosenCountry:null,filteredItems:null,menuIsShown:!1},reducers:{addDataToRedux:function(e,n){e.items=n.payload},showInfo:function(e,n){e.infoIsShown=!0},hideInfo:function(e,n){e.infoIsShown=!1},setChosenCountry:function(e,n){e.chosenCountry=n.payload},clearChosenCountry:function(e,n){e.chosenCountry=null},filterByQuantity:function(e,n){console.log(n.payload),e.filteredItems=e.items.filter((function(e){return e.population>n.payload}))},filterByLanguage:function(e,n){e.filteredItems=e.items&&e.items.filter((function(e){var t=e.languages&&Object.values(e.languages);return t&&t.includes(n.payload)}))},toggleMenu:function(e,n){e.menuIsShown=!e.menuIsShown}}}),d=l.actions,j=l.reducer,f=t(7),h=t.n(f),b=t(10),m=t(18),v=t.n(m),p=t(1),O=function(e){var n=Object(s.b)(),t=function(e){n(d.showInfo()),n(function(e){return function(){var n=Object(b.a)(h.a.mark((function n(t){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=function(){var n=Object(b.a)(h.a.mark((function n(){var r,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://restcountries.com/v3.1/name/".concat(e));case 2:if((r=n.sent).ok){n.next=5;break}throw new Error("Our customs error");case 5:return n.next=7,r.json();case 7:a=n.sent,console.log(a),t(d.setChosenCountry(a));case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.prev=1,n.next=4,r();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}()}(e))};return Object(p.jsx)("div",{className:v.a.marker,onClick:function(){return t(e.name)},children:Object(p.jsx)("i",{className:"fas fa-map-pin",style:{color:"yellow",padding:"10px"}})})},x=function(e){var n=Object(s.c)((function(e){return e.country.items})),t=Object(s.c)((function(e){return e.country.filteredItems})),r=n.map((function(e,n){return Object(p.jsx)(O,{lat:e.latlng[0],lng:e.latlng[1],name:e.name.common,flag:e.flags.svg},n)})),a=t&&t.map((function(e,n){return Object(p.jsx)(O,{lat:e.latlng[0],lng:e.latlng[1],name:e.name.common,flag:e.flags.svg},n)}));return Object(p.jsx)("div",{style:{height:"100vh",width:"100%"},children:Object(p.jsx)(i.a,{bootstrapURLKeys:{key:""},defaultCenter:{lat:59.95,lng:30.33},defaultZoom:3,children:t?a:r})})},g=t(20),_=t(9),y=t.n(_),w=function(){var e=Object(s.c)((function(e){return e.country.items})),n=Object(s.c)((function(e){return e.country.menuIsShown})),t=Object(s.b)();Object(r.useEffect)((function(){window.innerWidth>500&&t(d.toggleMenu())}),[t]);var a=function(e){var n,t=[],r=Object(g.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;t.includes(a)||t.push(a)}}catch(c){r.e(c)}finally{r.f()}return t}(e&&e.map((function(e){var n=e.languages,t=n&&Object.values(n),r=t&&t.length>1?t.slice(0,1):t;return r&&r[0]})));return Object(p.jsxs)("div",{className:y.a.header,children:[Object(p.jsx)("h1",{children:"\u0423\u0437\u043d\u0430\u0439 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u043a\u0442\u044b \u043e \u0441\u0442\u0440\u0430\u043d\u0435 (\u0432\u0441\u0435\u0433\u043e \u043e\u0434\u043d\u0438\u043c \u043a\u043b\u0438\u043a\u043e\u043c!)"}),Object(p.jsx)("div",{className:y.a.hamb__button,onClick:function(){t(d.toggleMenu())}}),Object(p.jsxs)("div",{className:"".concat(y.a.navbar," ").concat(n&&y.a.navbar__isShown),children:[Object(p.jsxs)("div",{className:y.a.navbar__item,children:[Object(p.jsx)("label",{htmlFor:"population",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u044b \u0441 \u0447\u0438\u0441\u043b\u0435\u043d\u043d\u043e\u0441\u0442\u044c\u044e \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u044f:"}),Object(p.jsxs)("select",{name:"population",id:"population",onChange:function(e){return n=e.target.value,void t(d.filterByQuantity(n));var n},children:[Object(p.jsx)("option",{defaultValue:!0,disabled:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442"}),Object(p.jsx)("option",{value:1e7,children:"\u0411\u043e\u043b\u0435\u0435 10\u043c\u043b\u043d \u0447\u0435\u043b\u043e\u0432\u0435\u043a"}),Object(p.jsx)("option",{value:3e7,children:"\u0411\u043e\u043b\u0435\u0435 30\u043c\u043b\u043d \u0447\u0435\u043b\u043e\u0432\u0435\u043a"}),Object(p.jsx)("option",{value:5e7,children:"\u0411\u043e\u043b\u0435\u0435 50\u043c\u043b\u043d \u0447\u0435\u043b\u043e\u0432\u0435\u043a"}),Object(p.jsx)("option",{value:7e7,children:"\u0411\u043e\u043b\u0435\u0435 70\u043c\u043b\u043d \u0447\u0435\u043b\u043e\u0432\u0435\u043a"}),Object(p.jsx)("option",{value:1e8,children:"\u0411\u043e\u043b\u0435\u0435 100\u043c\u043b\u043d \u0447\u0435\u043b\u043e\u0432\u0435\u043a"})]})]}),Object(p.jsxs)("div",{className:y.a.navbar__item,children:[Object(p.jsx)("label",{htmlFor:"language",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u044b, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043d\u0438\u0436\u0435 \u044f\u0437\u044b\u043a, \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u043c:"}),Object(p.jsx)("select",{name:"language",id:"language",onChange:function(e){return n=e.target.value,void t(d.filterByLanguage(n));var n},children:a&&a.map((function(e,n){return Object(p.jsx)("option",{value:e,children:e},n)}))})]})]})]})},k=t(16),I=t.n(k),C=function(){return Object(p.jsxs)("div",{className:I.a.loading,children:[Object(p.jsx)("div",{className:I.a["lds-dual-ring"],children:" "}),Object(p.jsx)("h2",{children:"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u0438\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})},S=t(35),N=t(12),B=t.n(N),E=function(){var e,n=Object(s.b)(),t=Object(s.c)((function(e){return e.country.chosenCountry})),a=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")};return t&&(e=a(t[0].population),a(t[0].area)),Object(p.jsx)(r.Fragment,{children:t&&Object(p.jsxs)(S.a.div,{initial:{y:"-100vh"},animate:{y:0},className:B.a.info,children:[Object(p.jsxs)("div",{className:B.a.title,children:[Object(p.jsx)("div",{children:t[0].name.common})," ",Object(p.jsx)("br",{}),Object(p.jsx)("img",{src:t[0].flags.svg})]}),Object(p.jsxs)("div",{className:B.a.main,children:[Object(p.jsxs)("div",{children:["\u0421\u0442\u043e\u043b\u0438\u0446\u0430: ",t[0].capital]}),Object(p.jsxs)("div",{children:["\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0434\u043e\u0440\u043e\u0433\u0435: ",t[0].car.side]}),Object(p.jsxs)("div",{children:["\u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u044f\u0437\u044b\u043a\u0438 \u0432 \u0441\u0442\u0440\u0430\u043d\u0435: ",Object.values(t[0].languages).map((function(e,n,t){return n!==t.length-1?Object(p.jsxs)("span",{children:[e,", "]},n):Object(p.jsx)("span",{children:e},n)}))]}),Object(p.jsxs)("div",{children:["\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u0435: ",e]}),Object(p.jsxs)("div",{children:["\u0412\u0430\u043b\u044e\u0442\u0430: ",Object.values(t[0].currencies).map((function(e,n){return Object(p.jsxs)("span",{children:[e.name,"(",e.symbol,")"]},n)}))]}),Object(p.jsxs)("div",{children:["\u041c\u0435\u0441\u0442\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f: ",t[0].timezones]})]}),Object(p.jsx)("button",{onClick:function(){n(d.hideInfo()),n(d.clearChosenCountry())},children:"\u0421\u043a\u0440\u044b\u0442\u044c"})]})})};var H=function(){var e=Object(s.c)((function(e){return e.country.infoIsShown})),n=Object(s.c)((function(e){return e.country.items})),t=Object(s.b)();return Object(r.useEffect)((function(){t(function(){var e=Object(b.a)(h.a.mark((function e(n){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=Object(b.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://restcountries.com/v3.1/all");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Our customs error");case 5:return e.next=7,t.json();case 7:r=e.sent,n(d.addDataToRedux(r));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=1,e.next=4,t();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}())}),[t]),Object(p.jsxs)("div",{className:"app",children:[Object(p.jsx)(w,{}),!n.length&&Object(p.jsx)(C,{}),Object(p.jsx)(x,{}),!!e&&Object(p.jsx)(E,{})]})},L=Object(u.a)({reducer:{country:j}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(s.a,{store:L,children:Object(p.jsx)(H,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,n,t){e.exports={header:"Header_header__5Z_4S",hamb__button:"Header_hamb__button__3SNrE",navbar:"Header_navbar__27yZA",navbar__item:"Header_navbar__item__uK6p3",navbar__isShown:"Header_navbar__isShown__1WSrX"}}},[[32,1,2]]]);
//# sourceMappingURL=main.6a8f04a5.chunk.js.map